"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[306],{306:function(e,t,n){n.r(t),n.d(t,{Movie:function(){return v}});var r=n(861),u=n(439),a=n(757),c=n.n(a),i=n(184),o=function(e){var t=e.form,n=e.value;return(0,i.jsx)("div",{children:(0,i.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.name_movie.value;t(n)},children:[(0,i.jsx)("input",{autoFocus:!0,type:"text",name:"name_movie",defaultValue:n}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})})},s=n(896),l=n(791),f=n(87),p=n(689),v=function(){var e,t=(0,l.useState)([]),n=(0,u.Z)(t,2),a=n[0],v=n[1],h=(0,f.lr)(),m=(0,u.Z)(h,2),d=m[0],x=m[1],b=null!==(e=d.get("query"))&&void 0!==e?e:"",j=(0,p.TH)(),k="https://api.themoviedb.org/3/search/movie";(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,s.Z)("".concat(k),"&query=".concat(b)).then((function(e){return e.results}));case 4:return t=e.sent,v((function(){return t.map((function(e){return{id:e.id,title:e.title}}))})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o,{formValue:function(e){x(""!==e?{query:e}:{})},value:b}),(0,i.jsx)("div",{children:(0,i.jsx)("ul",{children:a.map((function(e){var t=e.id,n=e.title;return(0,i.jsx)("li",{children:(0,i.jsx)(f.rU,{to:"/movie/".concat(t),state:{from:j},children:n})},t)}))})})]})}},896:function(e,t,n){var r=n(861),u=n(757),a=n.n(u),c=n(243),i="api_key=7b264c573728240a6ab06336c75c925f",o=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,u,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2&&void 0!==o[2]?o[2]:{},e.prev=2,e.next=5,c.Z.get("".concat(t,"?").concat(i).concat(n),r);case 5:return u=e.sent,e.abrupt("return",u.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();t.Z=o}}]);
//# sourceMappingURL=306.6e12c6f2.chunk.js.map