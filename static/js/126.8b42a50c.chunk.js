"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[126],{126:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(861),a=n(439),u=n(687),c=n.n(u),i=n(568),o=n(184),s=function(t){var e=t.formValue,n=t.value;return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{action:"",autoComplete:"off",onSubmit:function(t){t.preventDefault();var n=t.currentTarget.elements.name_movie.value;e(n)},children:[(0,o.jsx)("input",{className:i.Z.input,autoFocus:!0,type:"text",name:"name_movie",defaultValue:n}),(0,o.jsx)("button",{className:i.Z.btn,type:"submit",children:"Search"})]})})},l=n(791),p=n(87),f=n(689),h=n(896),v=function(){var t,e=(0,l.useState)([]),n=(0,a.Z)(e,2),u=n[0],i=n[1],v=(0,p.lr)(),d=(0,a.Z)(v,2),m=d[0],_=d[1],b=null!==(t=m.get("query"))&&void 0!==t?t:"",x=(0,f.TH)(),y="https://api.themoviedb.org/3/search/movie";(0,l.useEffect)((function(){function t(){return(t=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==b){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,h.Z)("".concat(y),"&query=".concat(b)).then((function(t){return t.results}));case 4:return e=t.sent,i((function(){return e.map((function(t){return{id:t.id,title:t.title}}))})),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[b]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{formValue:function(t){_(""!==t?{query:t}:{})},value:b}),(0,o.jsx)("div",{children:(0,o.jsx)("ul",{children:u.map((function(t){var e=t.id,n=t.title;return(0,o.jsx)("li",{children:(0,o.jsx)(p.rU,{to:"/movie/".concat(e),state:{from:x},children:n})},e)}))})})]})}},896:function(t,e,n){var r=n(861),a=n(687),u=n.n(a),c=n(243),i=n(7),o=n.n(i),s="api_key=7b264c573728240a6ab06336c75c925f",l=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r,a,i=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2&&void 0!==i[2]?i[2]:{},t.prev=2,t.next=5,c.Z.get("".concat(e,"?").concat(s).concat(n),r);case 5:return a=t.sent,t.abrupt("return",a.data);case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();l.propTypes={url:o().string.isRequired,properties:o().string,controller:o().object},e.Z=l},568:function(t,e){e.Z={link:"SharedLayout_link__A+Wt9",nav:"SharedLayout_nav__+W88p",btn:"SharedLayout_btn__NsjX9",input:"SharedLayout_input__WWrBG"}}}]);
//# sourceMappingURL=126.8b42a50c.chunk.js.map